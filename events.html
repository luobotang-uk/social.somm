<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wine Events - Fractional Fine Wine</title>
    <link rel="icon" type="image/png" href="logo1.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="wine-database.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="logo1.png" alt="Fractional Fine Wine Logo" class="logo">
                <h2>Fractional Fine Wine</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-separator">|</li>
                <li class="nav-item">
                    <a href="index.html#about" class="nav-link">How It Works</a>
                </li>
                <li class="nav-separator">|</li>
                <li class="nav-item">
                    <a href="events.html" class="nav-link active">Events</a>
                </li>
                <li class="nav-separator">|</li>
                <li class="nav-item">
                    <a href="create-event.html" class="nav-link">Create Event</a>
                </li>
                <li class="nav-separator">|</li>
                <li class="nav-item">
                    <a href="profile.html" class="nav-link">Profile</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Events Header -->
    <section class="events-header">
        <div class="container">
            <h1>Upcoming Wine Events</h1>
            <p>Discover premium wines shared by fellow enthusiasts</p>
            <div class="filters">
                <select class="filter-select">
                    <option value="">All Cities</option>
                    <option value="amsterdam">Amsterdam</option>
                    <option value="berlin">Berlin</option>
                    <option value="paris">Paris</option>
                    <option value="london">London</option>
                </select>
                <select class="filter-select">
                    <option value="">All Wine Types</option>
                    <option value="red">Red Wine</option>
                    <option value="white">White Wine</option>
                    <option value="champagne">Champagne</option>
                    <option value="dessert">Dessert Wine</option>
                </select>
                <select class="filter-select">
                    <option value="">All Price Ranges</option>
                    <option value="0-50">€0 - €50</option>
                    <option value="50-100">€50 - €100</option>
                    <option value="100-200">€100 - €200</option>
                    <option value="200+">€200+</option>
                </select>
            </div>
        </div>
    </section>

    <!-- Events Grid -->
    <section class="events-grid-section">
        <div class="container">
            <div class="events-grid" id="eventsGrid">
                <!-- Event Card 1 -->
                <div class="event-card">
                    <div class="event-image">
                        <div class="wine-bottle-icon">
                            <img src="logo1.png" alt="Wine Bottle" class="bottle-logo">
                        </div>
                        <div class="event-type home">Home</div>
                    </div>
                    <div class="event-content">
                        <h3>Château Margaux 2015</h3>
                        <p class="wine-details">Bordeaux, France • Red Wine</p>
                        <div class="event-info">
                            <div class="info-item">
                                <i class="fas fa-calendar"></i>
                                <span>Dec 15, 2024</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Amsterdam, NL</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-clock"></i>
                                <span>7:00 PM</span>
                            </div>
                        </div>
                        <div class="fraction-display">
                            <div class="fraction-triangle">
                                <div class="fraction-sections triangular">
                                    <div class="fraction-section filled" data-user="Sarah M." title="Sarah M.">S</div>
                                    <div class="fraction-section filled" data-user="James L." title="James L.">J</div>
                                    <div class="fraction-section filled" data-user="Emma K." title="Emma K.">E</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                </div>
                            </div>
                            <span class="fraction-text">3/5 spots filled</span>
                        </div>
                        <div class="event-pricing">
                            <span class="price">€40</span>
                            <span class="price-label">per person</span>
                        </div>
                        <button class="btn btn-primary">Join Event</button>
                    </div>
                </div>

                <!-- Event Card 2 -->
                <div class="event-card">
                    <div class="event-image">
                        <div class="wine-bottle-icon">
                            <img src="logo1.png" alt="Wine Bottle" class="bottle-logo">
                        </div>
                        <div class="event-type away">Away</div>
                    </div>
                    <div class="event-content">
                        <h3>Dom Pérignon 2013</h3>
                        <p class="wine-details">Champagne, France • Sparkling</p>
                        <div class="event-info">
                            <div class="info-item">
                                <i class="fas fa-calendar"></i>
                                <span>Dec 18, 2024</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Berlin, DE</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-clock"></i>
                                <span>8:00 PM</span>
                            </div>
                        </div>
                        <div class="fraction-display">
                            <div class="fraction-triangle">
                                <div class="fraction-sections triangular">
                                    <div class="fraction-section filled" data-user="Michael R." title="Michael R.">M</div>
                                    <div class="fraction-section filled" data-user="Lisa P." title="Lisa P.">L</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                </div>
                            </div>
                            <span class="fraction-text">2/5 spots filled</span>
                        </div>
                        <div class="event-pricing">
                            <span class="price">€75</span>
                            <span class="price-label">per person</span>
                        </div>
                        <button class="btn btn-primary">Join Event</button>
                    </div>
                </div>

                <!-- Event Card 3 -->
                <div class="event-card">
                    <div class="event-image">
                        <div class="wine-bottle-icon">
                            <img src="logo1.png" alt="Wine Bottle" class="bottle-logo">
                        </div>
                        <div class="event-type home">Home</div>
                    </div>
                    <div class="event-content">
                        <h3>Opus One 2018</h3>
                        <p class="wine-details">Napa Valley, USA • Red Wine</p>
                        <div class="event-info">
                            <div class="info-item">
                                <i class="fas fa-calendar"></i>
                                <span>Dec 20, 2024</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Paris, FR</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-clock"></i>
                                <span>7:30 PM</span>
                            </div>
                        </div>
                        <div class="fraction-display">
                            <div class="fraction-triangle">
                                <div class="fraction-sections triangular">
                                    <div class="fraction-section filled" data-user="David W." title="David W.">D</div>
                                    <div class="fraction-section filled" data-user="Anna S." title="Anna S.">A</div>
                                    <div class="fraction-section filled" data-user="Tom B." title="Tom B.">T</div>
                                    <div class="fraction-section filled" data-user="Maria G." title="Maria G.">M</div>
                                    <div class="fraction-section filled" data-user="Chris H." title="Chris H.">C</div>
                                </div>
                            </div>
                            <span class="fraction-text">5/5 spots filled</span>
                        </div>
                        <div class="event-pricing">
                            <span class="price">€65</span>
                            <span class="price-label">per person</span>
                        </div>
                        <button class="btn btn-primary">Join Event</button>
                    </div>
                </div>

                <!-- Event Card 4 -->
                <div class="event-card">
                    <div class="event-image">
                        <div class="wine-bottle-icon">
                            <img src="logo1.png" alt="Wine Bottle" class="bottle-logo">
                        </div>
                        <div class="event-type away">Away</div>
                    </div>
                    <div class="event-content">
                        <h3>Barolo Brunate 2016</h3>
                        <p class="wine-details">Piedmont, Italy • Red Wine</p>
                        <div class="event-info">
                            <div class="info-item">
                                <i class="fas fa-calendar"></i>
                                <span>Dec 22, 2024</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>London, UK</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-clock"></i>
                                <span>6:30 PM</span>
                            </div>
                        </div>
                        <div class="fraction-display">
                            <div class="fraction-triangle">
                                <div class="fraction-sections triangular">
                                    <div class="fraction-section filled" data-user="Robert P." title="Robert P.">R</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                    <div class="fraction-section available" data-user="" title="Available">+</div>
                                </div>
                            </div>
                            <span class="fraction-text">1/5 spots filled</span>
                        </div>
                        <div class="event-pricing">
                            <span class="price">€35</span>
                            <span class="price-label">per person</span>
                        </div>
                        <button class="btn btn-primary">Join Event</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="logo1.png" alt="Fractional Fine Wine Logo" class="footer-logo-img">
                        <h3>Fractional Fine Wine</h3>
                    </div>
                    <p>Your trusted partner in wine discovery and enjoyment.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Platform</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#about">How It Works</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="create-event.html">Create Event</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Features</h4>
                    <ul>
                        <li><a href="#">Create Events</a></li>
                        <li><a href="#">Discover Events</a></li>
                        <li><a href="#">Cost Splitting</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Fractional Fine Wine. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Load wine events dynamically
        document.addEventListener('DOMContentLoaded', function() {
            loadWineEvents();
        });

        function loadWineEvents() {
            const eventsGrid = document.getElementById('eventsGrid');
            if (!eventsGrid) return;

            const wines = WineDatabase.getFeaturedWines();
            const events = wines.map((wine, index) => createEventCard(wine, index));
            
            eventsGrid.innerHTML = events.join('');
        }

        function createEventCard(wine, index) {
            const eventTypes = ['home', 'away', 'home'];
            const locations = ['Amsterdam, NL', 'Wine Bar Amsterdam', 'Utrecht, NL'];
            const dates = ['Dec 15, 2024', 'Dec 20, 2024', 'Dec 28, 2024'];
            const times = ['7:00 PM', '8:00 PM', '6:30 PM'];
            const spotsFilled = [3, 2, 4];
            const totalSpots = 5;
            const prices = [40, 35, 30];
            
            // Sample user names for filled spots
            const userNames = [
                ['Sarah M.', 'James L.', 'Emma K.'],
                ['Michael R.', 'Lisa P.'],
                ['David W.', 'Anna S.', 'Tom B.', 'Maria G.', 'Chris H.']
            ];

            const eventType = eventTypes[index % eventTypes.length];
            const location = locations[index % locations.length];
            const date = dates[index % dates.length];
            const time = times[index % times.length];
            const filled = spotsFilled[index % spotsFilled.length];
            const price = prices[index % prices.length];
            const users = userNames[index % userNames.length];

            const fractionSections = Array.from({length: totalSpots}, (_, i) => {
                if (i < filled) {
                    const userInitial = users[i].split(' ').map(name => name.charAt(0)).join('');
                    return `<div class="fraction-section filled" data-user="${users[i]}" title="${users[i]}">${userInitial}</div>`;
                } else {
                    return `<div class="fraction-section available" data-user="" title="Available">+</div>`;
                }
            }).join('');

            return `
                <div class="event-card" data-wine-id="${wine.id}">
                    <div class="event-image">
                        <div class="wine-bottle-icon">
                            <img src="logo1.png" alt="Wine Bottle" class="bottle-logo">
                        </div>
                        <div class="event-type ${eventType}">${eventType.charAt(0).toUpperCase() + eventType.slice(1)}</div>
                    </div>
                    <div class="event-content">
                        <h3>${wine.name}</h3>
                        <p class="wine-details">${wine.region} • ${wine.type}</p>
                        <div class="wine-rating">
                            <div class="stars">${'★'.repeat(Math.floor(wine.ratings.average / 20))}</div>
                            <span>${wine.ratings.average}/100</span>
                        </div>
                        <div class="wine-price-info">
                            <span class="market-price">€${wine.priceRange.min} - €${wine.priceRange.max}</span>
                            <span class="price-source">Market Price</span>
                        </div>
                        <div class="event-info">
                            <div class="info-item">
                                <i class="fas fa-calendar"></i>
                                <span>${date}</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${location}</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-clock"></i>
                                <span>${time}</span>
                            </div>
                        </div>
                        <div class="fraction-display">
                            <div class="fraction-triangle">
                                <div class="fraction-sections triangular">
                                    ${fractionSections}
                                </div>
                            </div>
                            <span class="fraction-text">${filled}/${totalSpots} spots filled</span>
                        </div>
                        <div class="event-pricing">
                            <span class="price">€${price}</span>
                            <span class="price-label">per person</span>
                        </div>
                        <button class="btn btn-primary" onclick="joinEvent('${wine.id}')">Join Event</button>
                    </div>
                </div>
            `;
        }

        function joinEvent(wineId) {
            const wine = WineDatabase.getWineById(wineId);
            if (wine) {
                // Redirect to event detail page with wine ID
                window.location.href = `event-detail.html?wine=${wineId}`;
            }
        }

        // Add click functionality to available fraction sections
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('fraction-section') && e.target.classList.contains('available')) {
                const eventCard = e.target.closest('.event-card');
                const wineId = eventCard.getAttribute('data-wine-id');
                if (wineId) {
                    joinEvent(wineId);
                }
            }
        });

        // Add hover effects for fraction sections
        document.addEventListener('mouseenter', function(e) {
            if (e.target.classList.contains('fraction-section')) {
                e.target.style.transform = 'scale(1.05)';
            }
        }, true);

        document.addEventListener('mouseleave', function(e) {
            if (e.target.classList.contains('fraction-section')) {
                e.target.style.transform = 'scale(1)';
            }
        }, true);
    </script>
</body>
</html>
